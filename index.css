@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import './styles/tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===================================================================
   CHIMPNEWS GLOBAL STYLES v2.0
   Premium styling for world-class UX
   =================================================================== */

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    font-family: var(--font-sans);
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--bg-base);
    color: var(--text-primary);
    line-height: var(--leading-normal);
  }

  /* Selection styling */
  ::selection {
    background-color: var(--accent-500);
    color: white;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--border-strong);
    border-radius: var(--radius-full);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--text-disabled);
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--border-strong) transparent;
  }
}

@layer components {
  /* ==================== BUTTONS ==================== */
  
  /* Primary Button - Sky accent */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-5 py-2.5 rounded-xl;
    @apply font-medium text-sm;
    @apply bg-accent-500 text-white;
    @apply shadow-md;
    @apply transition-all duration-150;
  }

  .btn-primary:hover {
    @apply bg-accent-400;
    @apply shadow-lg shadow-accent-500/20;
  }

  .btn-primary:active {
    @apply scale-[0.98];
  }

  .btn-primary:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Secondary Button - Subtle */
  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-5 py-2.5 rounded-xl;
    @apply font-medium text-sm;
    @apply bg-white/5 text-white/80 border border-white/10;
    @apply transition-all duration-150;
  }

  .btn-secondary:hover {
    @apply bg-white/10 text-white border-white/20;
  }

  .btn-secondary:active {
    @apply scale-[0.98];
  }

  /* Ghost Button */
  .btn-ghost {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-4 py-2 rounded-lg;
    @apply font-medium text-sm;
    @apply text-white/60;
    @apply transition-all duration-150;
  }

  .btn-ghost:hover {
    @apply bg-white/5 text-white/80;
  }

  /* Danger Button */
  .btn-danger {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-5 py-2.5 rounded-xl;
    @apply font-medium text-sm;
    @apply bg-red-500/10 text-red-400 border border-red-500/20;
    @apply transition-all duration-150;
  }

  .btn-danger:hover {
    @apply bg-red-500 text-white border-red-500;
  }

  /* Icon Button */
  .btn-icon {
    @apply inline-flex items-center justify-center;
    @apply w-9 h-9 rounded-lg;
    @apply text-white/50;
    @apply transition-all duration-150;
  }

  .btn-icon:hover {
    @apply bg-white/5 text-white/80;
  }

  /* ==================== CARDS ==================== */
  
  .card {
    @apply bg-[#141416] rounded-2xl border border-white/5;
    @apply transition-all duration-200;
  }

  .card-interactive {
    @apply card cursor-pointer;
  }

  .card-interactive:hover {
    @apply border-white/10 bg-[#1a1a1e];
  }

  .card-elevated {
    @apply bg-[#1a1a1e] rounded-2xl border border-white/8;
    @apply shadow-xl;
  }

  /* ==================== INPUTS ==================== */
  
  .input {
    @apply w-full px-4 py-3;
    @apply bg-white/5 border border-white/10 rounded-xl;
    @apply text-white placeholder:text-white/30;
    @apply transition-all duration-150;
    @apply focus:outline-none focus:border-accent-500/50 focus:ring-2 focus:ring-accent-500/20;
  }

  .input-sm {
    @apply px-3 py-2 text-sm rounded-lg;
  }

  .select {
    @apply w-full px-4 py-3;
    @apply bg-white/5 border border-white/10 rounded-xl;
    @apply text-white appearance-none cursor-pointer;
    @apply transition-all duration-150;
    @apply focus:outline-none focus:border-accent-500/50 focus:ring-2 focus:ring-accent-500/20;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 12px center;
    background-repeat: no-repeat;
    background-size: 20px;
  }

  .textarea {
    @apply w-full px-4 py-3;
    @apply bg-white/5 border border-white/10 rounded-xl;
    @apply text-white placeholder:text-white/30;
    @apply transition-all duration-150 resize-none;
    @apply focus:outline-none focus:border-accent-500/50 focus:ring-2 focus:ring-accent-500/20;
  }

  /* ==================== BADGES ==================== */
  
  .badge {
    @apply inline-flex items-center gap-1;
    @apply px-2.5 py-1 rounded-full;
    @apply text-xs font-medium;
  }

  .badge-default {
    @apply badge bg-white/5 text-white/60;
  }

  .badge-primary {
    @apply badge bg-accent-500/10 text-accent-400;
  }

  .badge-success {
    @apply badge bg-emerald-500/10 text-emerald-400;
  }

  .badge-warning {
    @apply badge bg-amber-500/10 text-amber-400;
  }

  .badge-danger {
    @apply badge bg-red-500/10 text-red-400;
  }

  /* ==================== GLASSMORPHISM ==================== */
  
  .glass-card {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  .glass-card-hover {
    @apply glass-card;
    @apply transition-all duration-200;
  }

  .glass-card-hover:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.12);
  }

  /* ==================== LOADING STATES ==================== */
  
  .shimmer {
    background: linear-gradient(
      90deg,
      var(--bg-elevated) 0%,
      var(--bg-surface) 50%,
      var(--bg-elevated) 100%
    );
    background-size: 2000px 100%;
    animation: shimmer 2s infinite linear;
  }

  .skeleton {
    @apply bg-white/5 rounded animate-pulse;
  }

  /* ==================== SCROLLBAR UTILITIES ==================== */
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  /* ==================== FOCUS RING ==================== */
  
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-accent-500/50 focus:ring-offset-2 focus:ring-offset-[#09090b];
  }

  /* ==================== ANIMATIONS ==================== */
  
  .animate-shake {
    animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
  }

  @keyframes shake {
    10%, 90% { transform: translate3d(-1px, 0, 0); }
    20%, 80% { transform: translate3d(2px, 0, 0); }
    30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
    40%, 60% { transform: translate3d(4px, 0, 0); }
  }

  /* ==================== PAGE TRANSITIONS ==================== */
  
  .page-enter {
    opacity: 0;
    transform: translateY(8px);
  }

  .page-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 200ms ease-out, transform 200ms ease-out;
  }

  .page-exit {
    opacity: 1;
    transform: translateY(0);
  }

  .page-exit-active {
    opacity: 0;
    transform: translateY(-8px);
    transition: opacity 150ms ease-in, transform 150ms ease-in;
  }

  /* ==================== TOOLTIP ==================== */
  
  .tooltip {
    @apply absolute z-50;
    @apply px-3 py-1.5 rounded-lg;
    @apply bg-[#1a1a1e] border border-white/10;
    @apply text-sm text-white;
    @apply shadow-xl;
    @apply opacity-0 pointer-events-none;
    @apply transition-opacity duration-150;
  }

  .tooltip-visible {
    @apply opacity-100;
  }

  /* ==================== DIVIDER ==================== */
  
  .divider {
    @apply h-px bg-white/5;
  }

  .divider-vertical {
    @apply w-px h-4 bg-white/10;
  }
}

@layer utilities {
  /* Text utilities */
  .text-balance {
    text-wrap: balance;
  }

  /* Backdrop utilities */
  .backdrop-blur-xs {
    backdrop-filter: blur(2px);
  }

  /* Hide scrollbar but keep functionality */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r;
  }

  /* Truncate with ellipsis */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* ==================== LEGACY SUPPORT ==================== */

/* Keep old body styling for backwards compat */
body {
  font-family: 'Inter', sans-serif;
  background-color: #09090b;
  color: #fafafa;
}

.font-headline {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
}

/* Scanlines effect (optional, for TV broadcast feel) */
.scanlines {
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0),
    rgba(255, 255, 255, 0) 50%,
    rgba(0, 0, 0, 0.15) 50%,
    rgba(0, 0, 0, 0.15)
  );
  background-size: 100% 4px;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 10;
}

/* Legacy accent button */
.btn-accent {
  @apply btn-primary;
}
